<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./static/dashstyle.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM Sans:wght@400;500;700&display=swap"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <link rel="icon" type="image/x-icon" href="./static/images/Paperlify Logo Blue.png">
    <title>Paperlify | Dashboard</title>
</head>
<body class="dashboard-body">
    <nav class="navbar">
        <div class="logo">
            <img src="./static/images/Paperlify Logo White.png" alt="Paperlify Logo"> 
            <h1>Paperlify</h1>
        </div>
        <ul>
            <li>
                <form action="" method="GET">
                    <input type="text" name="query" placeholder="Search documents">
                    <button type="submit">Search</button>
                </form>
            </li>
            <li><a href="{% url 'dashboard' %}">Upload Document</a></li>
            <li><a href="{% url 'mydocuments' %}">My Documents</a></li>
            <li><a href="{% url 'profile' %}">My Profile</a></li>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                Logout
            </button>
        </ul>
    </nav>

    
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Logout</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            Are you are you want to logout?
            </div>
            <div class="modal-footer">
            <a type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</a>
            <a href="{% url 'login' %}" type="button" class="btn btn-primary">Logout</a>
            </div>
        </div>
        </div>
    </div>

    <div>
        <section class="content">
            <h1>Paperlify</h1>
            <p>Document to Text Summarization AI</p>
        </section>
    </div>
    
    <div class="drag-area">
        <form method="POST" action="" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="icon"><i class="uil uil-file-upload"></i></div>
            <h2>Upload a document</h2>
            <input type="file" name="file" id="file" accept=".txt, .pdf, .doc, .docx">
            {% if error %}
                <p class="message"> {{ error }} </p>
                {% endif %}
                
            <button class="upload-btn" type="submit">Upload</button>
        </form>
    </div>
    

    <!-- Show Document -->
    <div class="editor-box">
        <form action="" method="post">
            {% csrf_token %}
            <div class="editor-title">Document Content</div>
            <textarea name="input_text" rows="10" cols="80">{{ content }}</textarea>
            <input class="summarize-btn" type="submit" name="summarize" value="Summarize"> 
        </form>
    </div>
    


    <!-- Add the Summarized Document Editor -->
    <div class="editor-box">
        <div class="editor-title">Summarized Document</div>
        {% if summary %}
            <textarea rows="10" cols="80">{{ summary.0.summary_text }}</textarea>
        {% else %}
            <textarea rows="10" cols="80">No summary available</textarea>
        {% endif %}
    </div>


        <div>
            <section class="content">
                <h1>Recent Documents</h1>
            </section>
        </div>
    <div class="document-container">
        <!-- Document 1 -->
        {% for document in documents %}
        <div class="document">
            <div class="document-info">
                <h2>{{ document.title }}</h2>
                <p>Date of Upload: {{ document.time }}</p>
                <p>{{ document.text }}</p>
                <button class= "see-more-btn" type="submit">See More</button>
            </div>
        </div>
        {% empty %}
        <p>No documents available.</p>
        {% endfor %}
        
        <!-- Document 2 -->
        <div class="document">
            <a href="{% url 'document' %}">
                <div class="document-info">
                    <h2>Document 2 Name</h2>
                    <p>Date of Upload: Sept 03, 2023</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vel arcu nec justo dignissim euismod.</p>
                </div>
            </a>
        </div>
        <!-- Document 3 -->
        <div class="document">
            <a href="document">
                <div class "document-info">
                    <h2>Document 3 Name</h2>
                    <p>Date of Upload: Sept 03, 2023</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vel arcu nec justo dignissim euismod.</p>
                </div>
            </a>
        </div>
        <!-- Document 4 -->
        <div class="document">
            <a href="document">
                <div class="document-info">
                    <h2>Document 4 Name</h2>
                    <p>Date of Upload: Sept 03, 2023</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vel arcu nec justo dignissim euismod.</p>
                </div>
            </a>
        </div>
    </div>
    <div class="browse-button">
        <a href="{% url 'mydocuments' %}">Browse All Documents</a>
    </div>
</body>

</div>
</html>
