{% extends "./base.html"%}
{% block title %}Homepage{% endblock %}

{% block template %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
    $(document).ready(function(){
        $("#chooseAIModal").modal('show');
    });
</script>

<style>
    .btn-square {
      width: 100%;
      height: 100%;
    }

    .btn-primary1,
    .btn-secondary1 {
        background-color: #5271ff;
        border-color: #5271ff;
        color: #fff;
    }
    
    .btn-primary1:hover,
    .btn-secondary1:hover {
    background-color: #4a66e6;
    border-color: #4a66e6;
    color: #fff;
    }

    .icon {
        font-size: 2em;
        vertical-align: middle;
      }
</style>

<!-- Choose AI Model Modal -->
<div class="modal fade" id="chooseAIModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Choose Your AI Model</h1>
          {% comment %} <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> {% endcomment %}
        </div>
        <div class="modal-body">
          Choose which AI model you want to select for Summarization.
        </div>
        <div class="row justify-content-center">
          <div class="col-5">
            <a href="{% url 'dashboard' %}" type="button" class="btn btn-secondary1 btn-square">
                <i class="uil uil-smile icon fa-4x d-block"></i>
                {% comment %} <i class="uil uil-rocket"></i> {% endcomment %}
                HuggingFace API Summarization</a>
          </div>
          <div class="col-5">
            <a href="{% url 'dashboard2nd' %}" type="button" class="btn btn-primary1 btn-square">
                <i class="uil uil-bolt icon fa-4x d-block"></i>
                Model Summarization</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  

{% comment %} <div class="space">
</div> {% endcomment %}


<div>
  <section class="main-content">
      <h1>Summarize article with <br><span class="gradient-text">Hugging Face</span></h1>
      <p>Simplify your reading with Paperlify, an AI based document summarizer that <br> transforms lengthy articles into clear and concise summaries </p>
  </section>
</div>

<style>
  {% comment %} .upload-area {
    border: 1px dashed #ccc;
    border-radius: 6px;
    padding: 20px;
    text-align: center;
    cursor: pointer;
    margin: 10px;
  } {% endcomment %}

  {% comment %} .upload-area input {
      display: none;
  } {% endcomment %}

    {% comment %} .submit-btn {
      display: block;
      width: 100%;
      background: var(--primary-blue);
      color: var(--color-white);
      font-weight: bold;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
    } {% endcomment %}
    textarea {
    width: 100%;
    border: none;
    outline: none;
  }

  .summarize-btn {
  display: inline-block;
  padding: 10px 20px;
  background-color: var(--primary-blue);
  color: var(--color-white);
  font-size: 1rem;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.summarize-btn:hover {
  background-color: var(--hover-blue);
}

</style>


<div class="drag-area">
  <form method="POST" action="" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="icon"><i class="uil uil-file-upload"></i></div>
      <h2>Upload a document</h2>
      <div class="upload-area" onclick="document.getElementsByClassName('fileInput')[0].click()">
            <p>Drag and drop files here or click to select files</p>
            <input type="file" class="fileInput" id="file" name="file" accept=".txt, .pdf, .doc, .docx" onchange="displayFileName()">
        </div>
        <p id="file-name"></p>
      {% if error %}
          <p class="message"> {{ error }} </p>
          {% endif %}
          
      <button class="upload-btn" type="submit">Upload</button>
  </form>
</div>


<!-- Show Document -->
<div class="editor-box">
  <form action="" method="post">
      {% csrf_token %}
      <div class="editor-title">Document Content</div>
      <textarea name="input_text" rows="10" cols="80">{{ content }}</textarea>
      <input class="summarize-btn" type="submit" name="summarize" value="Summarize"> 
  </form>
</div>



<!-- Add the Summarized Document Editor -->
<div class="editor-box">
  <div class="editor-title">Summarized Document</div>
  {% if summary %}
      <textarea rows="10" cols="80">{{ summary.0.summary_text }}</textarea>
  {% else %}
      <textarea rows="10" cols="80">No summary available</textarea>
  {% endif %}
</div>


  <div>
      <section class="content">
          <h1>Recent Documents</h1>
      </section>
  </div>
<div class="document-container">
  <!-- Document 1 -->
  {% for document in documents %}
  <div class="document">
      <div class="document-info">
          <h2>{{ document.title }}</h2>
          <p>Date of Upload: {{ document.time }}</p>
          <p>{{ document.text }}</p>
          <button class= "see-more-btn" type="submit">See More</button>
      </div>
  </div>
  {% empty %}
  <p>No documents available.</p>
  {% endfor %}
  
  <!-- Document 2 -->
  <div class="document">
      <a href="">
          <div class="document-info">
              <h2>Document 2 Name</h2>
              <p>Date of Upload: Sept 03, 2023</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vel arcu nec justo dignissim euismod.</p>
          </div>
      </a>
  </div>
  <!-- Document 3 -->
  <div class="document">
      <a href="document">
          <div class "document-info">
              <h2>Document 3 Name</h2>
              <p>Date of Upload: Sept 03, 2023</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vel arcu nec justo dignissim euismod.</p>
          </div>
      </a>
  </div>
  <!-- Document 4 -->
  <div class="document">
      <a href="document">
          <div class="document-info">
              <h2>Document 4 Name</h2>
              <p>Date of Upload: Sept 03, 2023</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vel arcu nec justo dignissim euismod.</p>
          </div>
      </a>
  </div>
</div>
<div class="browse-button">
  <a href="">Browse All Documents</a>
</div>

{% endblock %}
